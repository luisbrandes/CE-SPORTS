{"version":3,"sources":["turbopack:///[project]/components/ui/card.tsx","turbopack:///[project]/app/(admin)/admin/noticia/page.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-xl border border-border bg-card p-4 shadow-sm transition hover:shadow-md\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\ninterface Noticia {\r\n  id: number\r\n  titulo: string\r\n  autorNome: string\r\n  criadaEm: string\r\n  conteudo: string\r\n}\r\n\r\nexport default function NoticiasPage() {\r\n  const router = useRouter()\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [noticias, setNoticias] = useState<Noticia[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const openModal = () => setIsModalOpen(true)\r\n  const closeModal = () => setIsModalOpen(false)\r\n\r\n  const redirectToLogin = (type: \"aluno\" | \"admin\") => {\r\n    router.push(`/login?type=${type}`)\r\n    closeModal()\r\n  }\r\n\r\n  useEffect(() => {\r\n    let cancelado = false\r\n    async function load() {\r\n      try {\r\n        setLoading(true)\r\n        setError(null)\r\n  const res = await fetch(\"http://localhost:8080/api/noticias\", { credentials: \"include\" })\r\n        if (!res.ok) throw new Error(`HTTP ${res.status}`)\r\n        const data: Noticia[] = await res.json()\r\n        if (!cancelado) setNoticias(data)\r\n      } catch (e: any) {\r\n        if (!cancelado) setError(e?.message ?? \"Erro ao carregar notícias\")\r\n      } finally {\r\n        if (!cancelado) setLoading(false)\r\n      }\r\n    }\r\n    load()\r\n    return () => { cancelado = true }\r\n  }, [])\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br text-white\">\r\n      <section className=\"container mx-auto py-12 px-6\">\r\n\r\n        <h1 className=\"text-4xl font-bold mb-10 text-center text-yellow-300\">\r\n          Últimas Notícias\r\n        </h1>\r\n\r\n        {/* Lista de notícias */}\r\n        {loading && <p className=\"text-center\">Carregando...</p>}\r\n        {error && <p className=\"text-center text-red-200\">Erro: {error}</p>}\r\n\r\n        {!loading && !error && noticias.length === 0 && (\r\n          <p className=\"text-center opacity-80\">Nenhuma notícia cadastrada ainda.</p>\r\n        )}\r\n\r\n        {!loading && !error && noticias.length > 0 && (\r\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-10\">\r\n            {noticias.map((n) => (\r\n              <Card\r\n                key={n.id}\r\n                className=\"bg-white/95 text-blue-900 p-6 rounded-xl shadow-lg\"\r\n              >\r\n                <h3 className=\"text-xl font-semibold line-clamp-2\">{n.titulo}</h3>\r\n                <p className=\"text-sm text-gray-500 mt-2\">\r\n                  Por {n.autorNome} — {new Date(n.criadaEm).toLocaleDateString(\"pt-BR\")}\r\n                </p>\r\n\r\n                <div className=\"mt-4\">\r\n                  <Link href={`/admin/noticia/${n.id}`}>\r\n                    <Button className=\"bg-yellow-400 text-blue-900 hover:bg-yellow-500\">\r\n                      Ler mais\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      {/* Botão central “Cadastrar Notícia” */}\r\n      <div className=\"flex justify-center pb-12\">\r\n        <Button\r\n          className=\"bg-yellow-400 text-blue-900 hover:bg-yellow-500 px-8 py-6 text-lg font-semibold\"\r\n          onClick={() => router.push(\"/admin/noticia/cadastrarNoticia\")}\r\n        >\r\n          Cadastrar Notícia\r\n        </Button>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}