{"version":3,"sources":["turbopack:///[project]/components/ui/card.tsx","turbopack:///[project]/app/(admin)/admin/aprovacoesContas/page.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-xl border border-border bg-card p-4 shadow-sm transition hover:shadow-md\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\nexport default function AprovacoesPage() {\r\n    const [admins, setAdmins] = useState<any[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const carregarPendentes = async () => {\r\n        try {\r\n            setLoading(true)\r\n            const res = await fetch(\"http://localhost:8080/api/admin/pending-admins\", {\r\n                credentials: \"include\", \r\n            })\r\n            if (!res.ok) throw new Error(\"Erro ao carregar pendentes\")\r\n            const data = await res.json()\r\n            setAdmins(data)\r\n        } catch (err: any) {\r\n            alert(\"Erro: \" + err.message)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n\r\n    const aprovar = async (id: number) => {\r\n        if (!confirm(\"Aprovar este administrador?\")) return\r\n        try {\r\n            const res = await fetch(`http://localhost:8080/api/admin/approve-admin/${id}`, {\r\n                method: \"POST\",\r\n                credentials: \"include\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n            })\r\n            if (!res.ok) throw new Error(\"Erro ao aprovar administrador\")\r\n            alert(\"✅ Administrador aprovado com sucesso!\")\r\n            await carregarPendentes()\r\n        } catch (err: any) {\r\n            alert(\"Erro: \" + err.message)\r\n        }\r\n    }\r\n\r\n    const rejeitar = async (id: number) => {\r\n        if (!confirm(\"Rejeitar e excluir este administrador?\")) return\r\n        try {\r\n            const res = await fetch(`http://localhost:8080/api/admin/reject-admin/${id}`, {\r\n                method: \"DELETE\",\r\n                credentials: \"include\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n            })\r\n            if (!res.ok) throw new Error(\"Erro ao rejeitar administrador\")\r\n            alert(\"❌ Administrador rejeitado e removido!\")\r\n            await carregarPendentes()\r\n        } catch (err: any) {\r\n            alert(\"Erro: \" + err.message)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        carregarPendentes()\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br  flex justify-center items-start p-8\">\r\n            <Card className=\"w-full max-w-3xl bg-white p-6 shadow-2xl\">\r\n                <h1 className=\"text-2xl font-bold text-blue-900 mb-4 text-center\">\r\n                    Aprovação de Administradores\r\n                </h1>\r\n\r\n                {loading ? (\r\n                    <p className=\"text-center text-gray-600\">Carregando...</p>\r\n                ) : admins.length === 0 ? (\r\n                    <p className=\"text-center text-gray-500\">Nenhum administrador pendente.</p>\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        {admins.map((admin) => (\r\n                            <div\r\n                                key={admin.id}\r\n                                className=\"flex justify-between items-center p-4 border rounded-lg hover:bg-gray-50 transition\"\r\n                            >\r\n                                <div>\r\n                                    <p className=\"font-semibold text-gray-800\">{admin.nome}</p>\r\n                                    <p className=\"text-sm text-gray-600\">{admin.email}</p>\r\n                                </div>\r\n\r\n                                <div className=\"flex gap-2\">\r\n                                    <Button\r\n                                        onClick={() => aprovar(admin.id)}\r\n                                        className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n                                    >\r\n                                        Aprovar\r\n                                    </Button>\r\n                                    <Button\r\n                                        onClick={() => rejeitar(admin.id)}\r\n                                        className=\"bg-red-600 hover:bg-red-700 text-white\"\r\n                                    >\r\n                                        Rejeitar\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}