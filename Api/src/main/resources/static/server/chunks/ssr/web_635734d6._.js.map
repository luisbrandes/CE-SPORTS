{"version":3,"sources":["turbopack:///[project]/web/components/ui/card.tsx","turbopack:///[project]/web/app/register/verify/page.tsx","turbopack:///[project]/web/components/ui/VerificationCodeInput.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"rounded-xl border border-border bg-card p-4 shadow-sm transition hover:shadow-md\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { Suspense, useState } from \"react\"\r\nimport { useRouter, useSearchParams } from \"next/navigation\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport VerificationCodeInput from \"@/components/ui/VerificationCodeInput\"\r\n\r\nfunction VerifyContent() {\r\n  const router = useRouter()\r\n  const search = useSearchParams()\r\n  const email = search.get(\"email\") || \"\"\r\n\r\n  const [codigo, setCodigo] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const handleVerify = async () => {\r\n    if (!email) {\r\n      setError(\"Endereço de e-mail ausente.\")\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:8080/api/auth/verify\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, codigo }),\r\n      })\r\n\r\n      const data = await res.json()\r\n      if (res.ok) {\r\n        alert(\"✅ Conta verificada com sucesso!\")\r\n        router.push(\"/login\")\r\n      } else {\r\n        setError(data.error || \"Código inválido.\")\r\n      }\r\n    } catch (err: any) {\r\n      setError(\"Erro ao verificar: \" + err.message)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-500 p-6\">\r\n      <Card className=\"w-full max-w-md text-center bg-white p-8 shadow-2xl\">\r\n        <h1 className=\"text-3xl font-bold text-blue-900 mb-2\">CE Sports</h1>\r\n        <h2 className=\"text-xl font-semibold text-gray-700 mb-6\">Verificação de Conta</h2>\r\n\r\n        <p className=\"text-sm text-gray-600 mb-4\">\r\n          Enviamos um código de 6 dígitos para <b>{email}</b>.\r\n        </p>\r\n\r\n        <VerificationCodeInput onChange={setCodigo} />\r\n\r\n        {error && <p className=\"text-red-600 mt-3 text-sm\">{error}</p>}\r\n\r\n        <Button\r\n          onClick={handleVerify}\r\n          disabled={loading || codigo.length < 6}\r\n          className=\"w-full mt-6 bg-blue-600 text-white hover:bg-blue-700\"\r\n        >\r\n          {loading ? \"Verificando...\" : \"Verificar Código\"}\r\n        </Button>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function VerifyPage() {\r\n  return (\r\n    <Suspense fallback={<div className=\"text-center mt-10\">Carregando...</div>}>\r\n      <VerifyContent />\r\n    </Suspense>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport { useEffect, useRef, useState } from \"react\"\r\n\r\ninterface Props {\r\n  length?: number\r\n  isDisabled?: boolean\r\n  onChange: (code: string) => void\r\n}\r\n\r\nexport default function VerificationCodeInput({\r\n  length = 6,\r\n  isDisabled = false,\r\n  onChange,\r\n}: Props) {\r\n  const [values, setValues] = useState<string[]>(Array(length).fill(\"\"))\r\n  const refs = useRef<(HTMLInputElement | null)[]>([])\r\n\r\n  useEffect(() => {\r\n    onChange(values.join(\"\"))\r\n  }, [values, onChange])\r\n\r\n  const handleChange = (index: number, value: string) => {\r\n    if (/[^a-zA-Z0-9]/.test(value)) return\r\n    const updated = [...values]\r\n    updated[index] = value.toUpperCase()\r\n    setValues(updated)\r\n    if (value && index < length - 1) refs.current[index + 1]?.focus()\r\n  }\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent, index: number) => {\r\n    if (e.key === \"Backspace\" && !values[index] && index > 0) {\r\n      refs.current[index - 1]?.focus()\r\n    }\r\n  }\r\n\r\n  const handlePaste = (e: React.ClipboardEvent) => {\r\n    const pasted = e.clipboardData.getData(\"text\").slice(0, length).split(\"\")\r\n    const updated = [...values]\r\n    pasted.forEach((char, i) => {\r\n      if (i < length) updated[i] = char.toUpperCase()\r\n    })\r\n    setValues(updated)\r\n    refs.current[Math.min(pasted.length, length - 1)]?.focus()\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onPaste={handlePaste}\r\n      className=\"flex justify-center items-center gap-3 mt-4\"\r\n    >\r\n      {values.map((char, index) => (\r\n        <input\r\n          key={index}\r\n          ref={(el) => {\r\n  refs.current[index] = el\r\n}}\r\n          type=\"text\"\r\n          maxLength={1}\r\n          value={char}\r\n          disabled={isDisabled}\r\n          onChange={(e) => handleChange(index, e.target.value)}\r\n          onKeyDown={(e) => handleKeyDown(e, index)}\r\n          className={`w-12 h-14 text-xl text-center font-semibold border-2 rounded-xl transition-all duration-150\r\n            ${\r\n              isDisabled\r\n                ? \"bg-gray-200 text-gray-400\"\r\n                : \"bg-white border-blue-300 text-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n            }`}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}