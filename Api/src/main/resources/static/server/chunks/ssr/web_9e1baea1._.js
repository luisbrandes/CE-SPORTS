module.exports=[33545,a=>{"use strict";var b=a.i(56856),c=a.i(82140);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("rounded-xl border border-border bg-card p-4 shadow-sm transition hover:shadow-md",a),...d})}a.s(["Card",()=>d])},8509,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(46640),e=a.i(33545),f=a.i(28496);function g(){let[a,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),l=a=>a?"string"==typeof a?a:a.nome??"-":"-",m=a=>{if(null==a)return null;if("number"==typeof a)return a;let b=Number(a);return Number.isNaN(b)?null:b},n=async()=>{i(!0),k(null),g(null);let a=null;for(let b of["/api/partida"])try{let c=await fetch("http://localhost:8080/api/partida",{method:"GET",cache:"no-store",credentials:"include"});if(!c.ok){a=`endpoint ${b} retornou ${c.status}`;continue}let d=await c.json(),e=Array.isArray(d)?d:d?.data??d?.content??d?.partidas??null;if(!e||!Array.isArray(e)){a=`endpoint ${b} retornou formato inesperado`;continue}let f=e.map(a=>({...a,pontuacao1:m(a.pontuacao1),pontuacao2:m(a.pontuacao2)}));g(f),i(!1);return}catch(b){a=b}i(!1),k(`N\xe3o foi poss\xedvel obter partidas: ${"string"==typeof a?a:a&&a.message||"erro desconhecido"}. Verifique o endpoint da API.`)};(0,c.useEffect)(()=>{n()},[]);let o=(0,c.useMemo)(()=>a?[...a].sort((a,b)=>{let c=a.data?Date.parse(a.data):NaN,d=b.data?Date.parse(b.data):NaN;if(!Number.isNaN(c)&&!Number.isNaN(d))return d-c;if(!Number.isNaN(c))return -1;if(!Number.isNaN(d))return 1;let e=a.id??0;return(b.id??0)-e}):null,[a]);return(0,b.jsx)("div",{className:"min-h-screen bg-background text-foreground py-8",children:(0,b.jsxs)("div",{className:"container mx-auto px-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Histórico de Partidas"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.default,{href:"/admin/campeonatos",children:(0,b.jsx)(f.Button,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:"← Voltar para Campeonatos"})}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:()=>{n()},children:"Refresh"}),(0,b.jsx)(d.default,{href:"/admin/campeonatos/registrar-partida",children:(0,b.jsx)(f.Button,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-50 px-5",children:"➕ Nova Partida"})})]})]}),(0,b.jsxs)(e.Card,{className:"p-4",children:[h&&(0,b.jsx)("div",{className:"py-8 text-center",children:"Carregando partidas..."}),!h&&j&&(0,b.jsxs)("div",{className:"py-6",children:[(0,b.jsxs)("div",{className:"text-red-600 mb-2",children:["Erro: ",j]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"Se a API não estiver pronta, você pode usar dados mock:"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>n(),children:"Tentar novamente"})})]}),!h&&o&&0===o.length&&(0,b.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"Nenhuma partida encontrada."}),!h&&o&&o.length>0&&(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-blue-600 text-white",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-2 text-left",children:"Campeonato"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Equipe 1"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Equipe 2"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Placar"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Resultado"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Data"})]})}),(0,b.jsx)("tbody",{children:o.map((a,c)=>{let d=l(a.campeonato),e=l(a.equipe1),f=l(a.equipe2),g=a.pontuacao1??null,h=a.pontuacao2??null,i=null===g?"-":String(g),j=null===h?"-":String(h),k=null===g&&null===h?"Pendente":`${i} \xd7 ${j}`,m="-";a.empate?m="Empate":a.vencedor?m=l(a.vencedor):"number"==typeof g&&"number"==typeof h&&(m=g>h?e:h>g?f:"—");let n=a.data?new Date(a.data).toLocaleString("pt-BR"):"-";return(0,b.jsxs)("tr",{className:"border-t border-border hover:bg-muted/30 transition",children:[(0,b.jsx)("td",{className:"p-2 text-black",children:d}),(0,b.jsx)("td",{className:"p-2",children:e}),(0,b.jsx)("td",{className:"p-2",children:f}),(0,b.jsx)("td",{className:"p-2 font-medium",children:k}),(0,b.jsx)("td",{className:"p-2",children:m}),(0,b.jsx)("td",{className:"p-2",children:n})]},a.id??c)})})]})})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=web_9e1baea1._.js.map