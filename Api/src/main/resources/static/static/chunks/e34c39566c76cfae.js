(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{className:(0,a.cn)("rounded-xl border border-border bg-card p-4 shadow-sm transition hover:shadow-md",e),...r})}e.s(["Card",()=>r])},31203,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(22016),s=e.i(70065),n=e.i(67881);function l(){let[e,l]=(0,a.useState)(null),[i,d]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),u=e=>e?"string"==typeof e?e:e.nome??"-":"-",m=e=>{if(null==e)return null;if("number"==typeof e)return e;let t=Number(e);return Number.isNaN(t)?null:t},p=async()=>{d(!0),c(null),l(null);let e=null;for(let t of["/api/partida"])try{let a=await fetch("http://localhost:8080/api/partida",{method:"GET",cache:"no-store",credentials:"include"});if(!a.ok){e=`endpoint ${t} retornou ${a.status}`;continue}let r=await a.json(),s=Array.isArray(r)?r:r?.data??r?.content??r?.partidas??null;if(!s||!Array.isArray(s)){e=`endpoint ${t} retornou formato inesperado`;continue}let n=s.map(e=>({...e,pontuacao1:m(e.pontuacao1),pontuacao2:m(e.pontuacao2)}));l(n),d(!1);return}catch(t){e=t}d(!1),c(`N\xe3o foi poss\xedvel obter partidas: ${"string"==typeof e?e:e&&e.message||"erro desconhecido"}. Verifique o endpoint da API.`)};(0,a.useEffect)(()=>{p()},[]);let x=(0,a.useMemo)(()=>e?[...e].sort((e,t)=>{let a=e.data?Date.parse(e.data):NaN,r=t.data?Date.parse(t.data):NaN;if(!Number.isNaN(a)&&!Number.isNaN(r))return r-a;if(!Number.isNaN(a))return -1;if(!Number.isNaN(r))return 1;let s=e.id??0;return(t.id??0)-s}):null,[e]);return(0,t.jsx)("div",{className:"min-h-screen bg-background text-foreground py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Histórico de Partidas"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r.default,{href:"/admin/campeonatos",children:(0,t.jsx)(n.Button,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:"← Voltar para Campeonatos"})}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>{p()},children:"Refresh"}),(0,t.jsx)(r.default,{href:"/admin/campeonatos/registrar-partida",children:(0,t.jsx)(n.Button,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-600 hover:bg-blue-50 px-5",children:"➕ Nova Partida"})})]})]}),(0,t.jsxs)(s.Card,{className:"p-4",children:[i&&(0,t.jsx)("div",{className:"py-8 text-center",children:"Carregando partidas..."}),!i&&o&&(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsxs)("div",{className:"text-red-600 mb-2",children:["Erro: ",o]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"Se a API não estiver pronta, você pode usar dados mock:"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>p(),children:"Tentar novamente"})})]}),!i&&x&&0===x.length&&(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground",children:"Nenhuma partida encontrada."}),!i&&x&&x.length>0&&(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full text-sm",children:[(0,t.jsx)("thead",{className:"bg-blue-600 text-white",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-2 text-left",children:"Campeonato"}),(0,t.jsx)("th",{className:"p-2 text-left",children:"Equipe 1"}),(0,t.jsx)("th",{className:"p-2 text-left",children:"Equipe 2"}),(0,t.jsx)("th",{className:"p-2 text-left",children:"Placar"}),(0,t.jsx)("th",{className:"p-2 text-left",children:"Resultado"}),(0,t.jsx)("th",{className:"p-2 text-left",children:"Data"})]})}),(0,t.jsx)("tbody",{children:x.map((e,a)=>{let r=u(e.campeonato),s=u(e.equipe1),n=u(e.equipe2),l=e.pontuacao1??null,i=e.pontuacao2??null,d=null===l?"-":String(l),o=null===i?"-":String(i),c=null===l&&null===i?"Pendente":`${d} \xd7 ${o}`,m="-";e.empate?m="Empate":e.vencedor?m=u(e.vencedor):"number"==typeof l&&"number"==typeof i&&(m=l>i?s:i>l?n:"—");let p=e.data?new Date(e.data).toLocaleString("pt-BR"):"-";return(0,t.jsxs)("tr",{className:"border-t border-border hover:bg-muted/30 transition",children:[(0,t.jsx)("td",{className:"p-2 text-black",children:r}),(0,t.jsx)("td",{className:"p-2",children:s}),(0,t.jsx)("td",{className:"p-2",children:n}),(0,t.jsx)("td",{className:"p-2 font-medium",children:c}),(0,t.jsx)("td",{className:"p-2",children:m}),(0,t.jsx)("td",{className:"p-2",children:p})]},e.id??a)})})]})})]})]})})}e.s(["default",()=>l])}]);